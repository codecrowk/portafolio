const spanishLanguage = 
  {
    labelsObject : 
      [
        {id : 'language-label', text : 'Selecciona tu idioma'},
        {id : 'theme-label', text : 'Selecciona un tema'},
        {id : 'menuItem1-price', text : '$8.700'},
        {id : 'menuItem1-title', text : 'BBQ_crunch'},
        {id : 'menuItem1-items', text : `1 Sándwich BBQ Crunch
                                        1 filete de pollo apanado`},
        // item 2
        {id : 'menuItem2-price', text : '$15.900'},
        {id : 'menuItem2-title', text : 'Ketucky Sandwich'},
        {id : 'menuItem2-items', text : `1 Kentucky Hamburguesa
                                        2 filetes de pechuga de pollo apanados `},
        // item 3
        {id : 'menuItem3-price', text : '$16.900'},
        {id : 'menuItem3-title', text : 'Combo BBQ Crunch'},
        {id : 'menuItem3-items', text : `1 Sándwich BBQ Crunch
                                        1 Filete de pollo apanado
                                        1 Papa pequeña
                                        1 gaseosa pepsi 800ml`},
        // item 4
        {id : 'menuItem4-price', text : '$18.900'},
        {id : 'menuItem4-title', text : 'Kentucky Coronel Sandwich'},
        {id : 'menuItem4-items', text : `1 Kentucky Coronel Hamburguesa
                                        1 Filete de pollo apanado
                                        1 Ensalada `},
        // item 5 
        {id : 'menuItem5-price', text : '$21.900'},
        {id : 'menuItem5-title', text : 'Combo Kentucky Sandwich'},
        {id : 'menuItem5-items', text : `1 Kentucky Hamburguesa
                                        2 Filetes de pechuga de pollo apanados
                                        1 Papa pequeña
                                        1 Pepsi 800ml
                                        4 Pepinos`},
        // item 6
        {id : 'menuItem6-price', text : '$22.900'},
        {id : 'menuItem6-title', text : 'Combo Kentucky Coronel Sandwich'},
        {id : 'menuItem6-items', text : `1 Kentucky Coronel Hamburguesa
                                        1 Filete de pechuga de pollo apanado
                                        1 Papa pequeña
                                        1 Pepsi 800ml
                                        1 Ensalada`},
        // item 7 
        {id : 'menuItem7-price', text : '$23.900'},
        {id : 'menuItem7-title', text : 'Sandwich Crispy BBQ'},
        {id : 'menuItem7-items', text : `1 Sandwich Crispy BBQ
                                        1 Filete de pechuga extra grande
                                        1 Triple empatnizado
                                        1 Cebolla Crispy
                                        1 Queso Americano `},
        // item 8
        {id : 'menuItem8-price', text : '$29.900'},
        {id : 'menuItem8-title', text : 'Combo Sandwich Crispy BBQ'},
        {id : 'menuItem8-items', text : `1 Sandwich Crispy BBQ
                                        1 Filete de pechuga extra grande
                                        1 Triple empatnizado
                                        1 Cebolla Crispy
                                        1 Queso Americano
                                        1 Papa pequeña
                                        1 Pepsi 800ml `},
      ],
    optionList : 
      [
        {parentID : 'language', value : ['ingles', 'espanol']},
        {parentID : 'theme', value : ['claro', 'oscuro', 'libre']}
      ],
    buttons : 'Comprar'
  }

const englishLanguage = 
  {
    labelsObject : 
      [
        {id : 'language-label', text : 'Choose your language'},
        {id : 'theme-label', text : 'Choose your theme'},
        {id : 'menuItem1-price', text : '$8.700'},
        {id : 'menuItem1-title', text : 'BBQ_crunch'},
        {id : 'menuItem1-items', text : `1 BBQ Crunch Sandwichd
                                        1 Chiken Nugget`},
        // item 2
        {id : 'menuItem2-price', text : '$15.900'},
        {id : 'menuItem2-title', text : 'Ketucky Sandwich'},
        {id : 'menuItem2-items', text : `1 Kentucky Burger
                                        2 Breaded Chicken Breast`},
        // item 3
        {id : 'menuItem3-price', text : '$16.900'},
        {id : 'menuItem3-title', text : 'Combo BBQ Crunch'},
        {id : 'menuItem3-items', text : `1 BBQ Crunch sandwich
                                        1 Breaded Chicken Breast
                                        1 Small potato
                                        1 Pepsi 800ml`},
        // item 4
        {id : 'menuItem4-price', text : '$18.900'},
        {id : 'menuItem4-title', text : 'Kentucky Coronel Sandwich'},
        {id : 'menuItem4-items', text : `1 Kentucky Colonel Burger
                                        1 Breaded Chicken Breast
                                        1 Salad `},
        // item 5 
        {id : 'menuItem5-price', text : '$21.900'},
        {id : 'menuItem5-title', text : 'Combo Kentucky Sandwich'},
        {id : 'menuItem5-items', text : `1 Kentucky Burger
                                        2 Breaded Chicken Breast
                                        1 Small potato
                                        1 Pepsi 800ml
                                        4 Cucumbers`},
        // item 6
        {id : 'menuItem6-price', text : '$22.900'},
        {id : 'menuItem6-title', text : 'Combo Kentucky Coronel Sandwich'},
      {id : 'menuItem6-items', text : `1 Kentucky Colonel Burger
                                        1 Breaded Chicken Breast
                                        1 Small Potato
                                        1 Pepsi 800ml
                                        1 Salad`},
        // item 7 
        {id : 'menuItem7-price', text : '$23.900'},
        {id : 'menuItem7-title', text : 'Sandwich Crispy BBQ'},
        {id : 'menuItem7-items', text : `1 Crispy BBQ sandwich
                                        1 Extra Large Breast Fillet
                                        1 Triple Tied
                                        1 Crispy Onion
                                        1 American cheese  `},
        // item 8
        {id : 'menuItem8-price', text : '$29.900'},
        {id : 'menuItem8-title', text : 'Combo Sandwich Crispy BBQ'},
        {id : 'menuItem8-items', text : `1 Sandwich Crispy BBQ
                                        1 Filete de pechuga extra grande
                                        1 Triple Tied
                                        1 Crispy Oniond
                                        1 American cheese 
                                        1 Small Potato
                                        1 Pepsi 800ml `},
      ],
    optionList : 
      [
        {parentID : 'language', value : ['english', 'spanish']},
        {parentID : 'theme', value : ['light', 'dark', 'free']}
      ],
    buttons : 'Buy now'
  }
/* GLOBAL CONST */
const BUY_BUTTONS = document.getElementsByClassName('buy-btn')
console.log(BUY_BUTTONS[0])
/* FUNCTIONS */
function changeLanguage (userLanguage) {
  userLanguage['labelsObject'].forEach(element => {
    let {id, text} = element;
    const html_element = document.getElementById(id);
    html_element.innerText = text
  });

  changeLanguageAllButtons(userLanguage.buttons)
  changeLanguageOptions(userLanguage.optionList)
}

function changeLanguageAllButtons (userBuyText) {
  const buttonChildren = Object.values(BUY_BUTTONS) 
  buttonChildren.forEach(button => {
    button.innerText = userBuyText
  });
}

function changeLanguageOptions (userOptionValues) {
  userOptionValues.forEach(element => {
    const selectID = document.getElementById(element.parentID);
    const selectChildren = selectID.children; 
    const optionItems = Object.values(selectChildren);
    for (const iterator in optionItems) {
      optionItems[iterator].innerText = element.value[iterator]
    }
  });
}
/* LOCAL STORAGE */
function keepLanguage (userLanguage) {
  localStorage.setItem('language', userLanguage);
}

function getCurrentLanguage () {
  const previusLanguageSelected = localStorage.getItem('language');
  return previusLanguageSelected 
} 
/* RUN PROGRAM */
const getLanguageValues = {
  english: englishLanguage,
  spanish: spanishLanguage
}
const currentLanguage = document.getElementById('language');

currentLanguage.addEventListener('change', () => {
  const language = currentLanguage.value;
  changeLanguage(getLanguageValues[language])
  keepLanguage(language)
})
changeLanguage (spanishLanguage)
changeLanguageOptions(spanishLanguage.optionList)

//Show a default language
document.addEventListener("DOMContentLoaded", () => {
  const languageValue = getCurrentLanguage();
  
  const languageSelected = Boolean(languageValue)
  if (!languageSelected) {
    changeLanguage(englishLanguage);
  } else {
    const language = languageValue;
    changeLanguage(getLanguageValues[language]);
    currentLanguage.value = language 
  }  
});